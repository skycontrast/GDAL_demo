#! /usr/bin/env python
# -*- coding: utf-8 -*-
# __author__ = "tuxiang"
# Email: tuxiang1993@126.com
# Time: 2020/2/4 16:12
# version: python 
from osgeo import ogr
import os

wkt = "MULTIPOLYGON (((113.926820839 28.729508658,113.926623246 28.722420459,113.918851479 28.7225885510001,113.911079645 28.722756197,113.903307746 28.722923398,113.89553578 28.7230901520001,113.887763748 28.7232564620001,113.879991651 28.7234223250001,113.872219488 28.7235877420001,113.86444726 28.7237527140001,113.856674966 28.72391724,113.848902608 28.72408132,113.841130185 28.7242449550001,113.833357697 28.7244081430001,113.825585145 28.724570886,113.817812529 28.7247331830001,113.810039848 28.724895034,113.802267104 28.7250564390001,113.794494296 28.725217398,113.786721424 28.7253779110001,113.778948489 28.725537978,113.77117549 28.7256976,113.771362622 28.732786757,113.77154982 28.7398759050001,113.771737087 28.746965045,113.77192442 28.7540541760001,113.772111822 28.761143299,113.77229929 28.7682324130001,113.772486827 28.775321519,113.772674431 28.7824106160001,113.772862103 28.789499704,113.773049842 28.7965887840001,113.773237649 28.803677855,113.773425524 28.8107669180001,113.773613467 28.8178559720001,113.773801477 28.8249450180001,113.773989555 28.8320340550001,113.7741777 28.8391230840001,113.774365914 28.846212103,113.774554195 28.8533011150001,113.774742545 28.8603901170001,113.774930962 28.8674791120001,113.775119446 28.8745680970001,113.782903473 28.8744074950001,113.790687435 28.8742464440001,113.798471334 28.8740849450001,113.806255169 28.8739229970001,113.81403894 28.8737606,113.821822646 28.873597755,113.829606288 28.873434461,113.837389865 28.8732707180001,113.845173378 28.8731065270001,113.852956825 28.872941887,113.860740208 28.8727767990001,113.868523524 28.8726112620001,113.876306776 28.8724452770001,113.884089961 28.8722788430001,113.891873081 28.872111961,113.899656135 28.87194463,113.907439122 28.8717768510001,113.915222043 28.871608623,113.923004898 28.8714399470001,113.930787685 28.871270822,113.930588663 28.8641827970001,113.930389713 28.857094762,113.930190835 28.8500067190001,113.929992028 28.842918668,113.929793292 28.835830607,113.929594628 28.828742538,113.929396036 28.82165446,113.929197515 28.814566374,113.928999066 28.8074782790001,113.928800688 28.8003901750001,113.928602382 28.7933020620001,113.928404147 28.786213941,113.928205984 28.779125811,113.928007892 28.7720376730001,113.927809871 28.7649495250001,113.927611922 28.7578613690001,113.927414044 28.750773205,113.927216238 28.743685031,113.927018503 28.736596849,113.926820839 28.729508658)))"
polygon = ogr.CreateGeometryFromWkt(wkt)


driver = ogr.GetDriverByName('ESRI Shapefile')
outfile = r'E:\HN_Image\test\convexHull2.shp'
if os.path.exists(outfile):
    driver.DeleteDataSource(outfile)
outds = driver.CreateDataSource(outfile)
outlayer = outds.CreateLayer('convexHull', geom_type = ogr.wkbPolygon)
#创建表属性
idfield = ogr.FieldDefn('id',ogr.OFTInteger)
outlayer.CreateField(idfield)
#获取属性表信息
outfeatureddefn = outlayer.GetLayerDefn()
#创建要素并写入
outfeat = ogr.Feature(outfeatureddefn)
outfeat.SetGeometry(polygon)
outfeat.SetField('id',1)
outlayer.CreateFeature(outfeat)
feat = None

inds = None
outds = None